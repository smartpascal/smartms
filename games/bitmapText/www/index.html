
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="stylesheet" type="text/css" href="res/app.css"/>
  <link rel="stylesheet" type="text/css" href="lib/bundle.css">
  <link rel="icon" href="res/favicon.ico">
  <title>BitmapText</title>
</head>
<body>
<button id="btn1" class="TButton" style="width: 79px; top: 10px; left: 9px; height: 32px; text-align: center; position: absolute;">clickme</button>
<button id="btn2" class="TButton" style="width: 110px; top: 50px; left: 9px; height: 32px; text-align: center; position: absolute;">dontclickme</button>

<!--<div style="position: absolute; width: 100px; top: 50px; left: 9px; height: 60px;">
<div class="text-input"><input type="text" id="input1" placeholder="Try typing something in here!" autofocus=""><label for="input1" id="btn2">Click</label></div>
</div>-->
<img id="img1"  crossOrigin="anonymous" style="position:absolute; top: 0px; left:130px;"></img>
<img id="img2"  crossOrigin="anonymous" style="position:absolute; top: 65px; left:130px;"></img>

<script type="text/javascript" src="lib/bundle.js"></script>
<!-- Path to your app js-->
<script type="text/javascript">
document.ontouchmove=function(e){e.preventDefault();}
function bootstrap(){function q(b,c,k){this.h=b;this.i=c;this.f=k||0;this.b=new Image;this.b.setAttribute("crossOrigin","anonymous");this.a=[];this.data={};}
function r(b,c,k,callback){b.b.src=b.h;b.data.c={};var l=0,g=b.i,e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.open("GET",g,!1);e.send();var a=e.responseXML;g=a.getElementsByTagName("info")[0];e=a.getElementsByTagName("common")[0];b.data.font=g.getAttribute("face");b.data.size=parseInt(g.getAttribute("size"),10);b.data.lineHeight=parseInt(e.getAttribute("lineHeight"),10)+0;g=b.frame?b.frame.x:0;e=b.frame?b.frame.y:0;a=a.getElementsByTagName("character");for(var d=0;d<a.length;d++){var f=c.charCodeAt(d)-32;d<c.length&&(b.a[d]={x:g+parseInt(a[f].getAttribute("x"),10),y:e+parseInt(a[f].getAttribute("y"),10),width:parseInt(a[f].getAttribute("width"),10),height:parseInt(a[f].getAttribute("height"),10),j:parseInt(a[f].getAttribute("xoffset"),10)/1,l:parseInt(a[f].getAttribute("yoffset"),10)/1,g:(parseInt(a[f].getAttribute("xadvance"),10)+1)/1},l+=b.a[d].g);}
b.data.lineWidth=(l+b.f+10)*k;b.data.c=b.a;callback(b.data);}
function bitmapText(P,c$1,k$1,l,g,e$2,a$40,d$1,s){this.scale=e$2||1;this.f=a$40||0;this.frame=d$1||0;var f=new q("fonts/"+(c$1).toLowerCase()+".png","fonts/"+(c$1).toLowerCase()+".xml",a$40);c$1=r(f,k$1,e$2,function(e){var t=e.lineHeight,u=e.lineWidth,h=e.c;c$1=new Image;(c$1).setAttribute("crossOrigin","anonymous");(c$1).onload=function(){var c=0;var a,d=document.createElement("canvas"),m=d.getContext("2d");d.width=u;d.height=t;m.scale(e$2,e$2);for(a=0;a<(k$1).length;a++){var n=parseInt(h[a].width),p=parseInt(h[a].height),v=parseInt(h[a].g);m.drawImage(f.b,parseInt(h[a].x),parseInt(h[a].y),n,p,c+parseInt(h[a].j),parseInt(h[a].l),n,p);c+=v;}
c$1=d.toDataURL("image/png");if(s!==true){a=new Image;a.setAttribute("crossOrigin","anonymous");a.setAttribute("style","position:absolute; left:"+l+"px; top:"+g+"px;");a.src=c$1;(P).appendChild(a);}else{(P).src=c$1;}};(c$1).src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";});}
function loadXMLDoc(dname){var xhttp;if(window.XMLHttpRequest){xhttp=new XMLHttpRequest();}else{xhttp=new ActiveXObject("Microsoft.XMLHTTP");}
xhttp.open("GET",dname,false);xhttp.send();return xhttp.responseXML;}
var a=new Image();a.src="fonts/desyrel.png";var b=new Image();b.src="fonts/sigmarone.png";smartms("#btn2").on('click',function(e){var txt;var time=5*60,tmp=time;setInterval(function(){var c=tmp--,m=(c/60)>>0,s=(c-m*60)+'';txt='explodes in '+m+':'+(s.length>1?'':'0')+s
new bitmapText(document.getElementById('img2'),"SigmarOne",txt,300,85,1,0,0,true);tmp!=0||(tmp=time);},1000);});smartms('#btn1').on('click',function(){setTimeout(function(){new bitmapText(document.body,"luckiestguy",'Hello warleyalex!',50,150,1,0,0,false);},0);setTimeout(function(){new bitmapText(document.body,"LuckiestGuy",'Grumpsy wizards make',50,200,1,0,0,false);},0);setTimeout(function(){new bitmapText(document.body,"LuckiestGuy",'toxics brew for the',50,250,1,0,0,false);},0);setTimeout(function(){new bitmapText(document.body,"LuckiestGuy",'evil Queen and Jack.',50,300,1,0,0,false);},0);smartms('#btn1')[0].disabled=true;});setTimeout(function(){new bitmapText(document.getElementById('img1'),"Desyrel",'warleyalex',300,85,1,0,0,true);},0);};window.onload=function(){bootstrap();}
</script>
</body>
</html>
